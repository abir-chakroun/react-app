(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,a){},125:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(48),c=a.n(o),l=(a(99),a(10)),s=a(8),i=a(11),u=a(12),p=a(13),m=(a(100),a(30)),d=a(33),h=function(){return r.a.createElement("div",null,r.a.createElement("h1",null," About component "))},b=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null," Contact component "))},g=a(15),f=a.n(g),E=a(14),v=a(75),k=a(143),C=a(144),y=a(153),j=a(7),x=a.n(j),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).removeFromCart=function(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.CancelTokenSource=x.a.CancelToken.source,n.prev=1,n.next=4,f.a.awrap(x.a.delete("http://localhost:3000/cart/"+e,{cancelToken:a.CancelTokenSource.token}));case 4:(t=n.sent).data?console.log(t.data.message):console.log("cannot delete product from cart"),n.next=20;break;case 8:if(n.prev=8,n.t0=n.catch(1),x.a.isCancel(n.t0)&&console.log("Error",n.t0.message),!n.t0.response){n.next=15;break}console.log(n.t0.response),n.next=20;break;case 15:if(!n.t0.request){n.next=19;break}console.log(n.t0.request),n.next=20;break;case 19:throw n.t0;case 20:return n.prev=20,a.CancelTokenSource=null,n.finish(20);case 23:case"end":return n.stop()}}),null,null,[[1,8,20,23]])},a.MinusQuantity=function(e){var t,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t={value:-1},a.CancelTokenSource=x.a.CancelToken.source,r.prev=2,0!==a.state.qty){r.next=7;break}return r.abrupt("return",null);case 7:return r.next=9,f.a.awrap(x.a.put("http://localhost:3000/cart/"+e,t,{cancelToken:a.CancelTokenSource.token}));case 9:r.sent.data&&(n=a.state.qty-1,a._isMounted&&a.setState({qty:n}));case 11:r.next=25;break;case 13:if(r.prev=13,r.t0=r.catch(2),x.a.isCancel(r.t0)&&console.log("Error",r.t0.message),!r.t0.response){r.next=20;break}console.log(r.t0.response.data),r.next=25;break;case 20:if(!r.t0.request){r.next=24;break}console.log(r.t0.request.data),r.next=25;break;case 24:throw r.t0;case 25:return r.prev=25,a.CancelTokenSource=null,r.finish(25);case 28:case"end":return r.stop()}}),null,null,[[2,13,25,28]])},a.AddQuantity=function(e){var t,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.CancelTokenSource=x.a.CancelToken.source,t={value:1},r.prev=2,10!==a.state.qty){r.next=7;break}return r.abrupt("return",null);case 7:return r.next=9,f.a.awrap(x.a.put("http://localhost:3000/cart/"+e,t,{cancelToken:a.CancelTokenSource.token}));case 9:r.sent.data&&(n=a.state.qty+1,a._isMounted&&a.setState({qty:n}));case 11:r.next=25;break;case 13:if(r.prev=13,r.t0=r.catch(2),x.a.isCancel(r.t0)&&console.log("Error",r.t0.message),!r.t0.response){r.next=20;break}console.log(r.t0.response.data),r.next=25;break;case 20:if(!r.t0.request){r.next=24;break}console.log(r.t0.request.data),r.next=25;break;case 24:throw r.t0;case 25:return r.prev=25,a.CancelTokenSource=null,r.finish(25);case 28:case"end":return r.stop()}}),null,null,[[2,13,25,28]])},a.state={qty:0,total_price:0},a._isMounted=!1,a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;if(this.props.order)return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(C.a,null,r.a.createElement(y.a,{style:{height:"100px",width:"100px"},src:this.props.order.imagePath})),r.a.createElement(C.a,{style:{width:"150px"}},r.a.createElement("h6",{className:"title text-truncate"},this.props.order.title," ")),r.a.createElement(C.a,{style:{width:"100px"}},r.a.createElement("div",{class:"btn-group btn-group-justified",role:"group","aria-label":"..."},r.a.createElement("div",{class:"btn-group",role:"group"},r.a.createElement("button",{type:"button",class:"btn btn-default btn-danger",onClick:function(){return e.MinusQuantity(e.props._id)}},"-")),r.a.createElement("div",{class:"btn-group",role:"group"},r.a.createElement("button",{type:"button",class:"btn btn-default"}," ",this.props.qty," ")),r.a.createElement("div",{class:"btn-group",role:"group"},r.a.createElement("button",{type:"button",class:"btn btn-default btn-success",onClick:function(){return e.AddQuantity(e.props._id)}},"+")))),r.a.createElement(C.a,null," ",r.a.createElement("var",{className:"price"},this.props.order.price," ")," "),r.a.createElement(C.a,null," ",r.a.createElement(v.a,{className:"btn btn-danger",onClick:function(){return e.removeFromCart(e.props._id)}}," Remove ")," ")));console.log("empty props from Cart component")}}]),t}(n.Component),O=a(145),S=a(147),T=a(146),_=a(19),N=Object(_.a)((function(e){return{root:{width:"25%"}}}))(C.a),P=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).getCart=function(){var t,a,n,r;return f.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t=0,a=0,n=0,e.CancelTokenSource=x.a.CancelToken.source,o.prev=4,o.next=7,f.a.awrap(x.a.get("http://localhost:3000/cart",{cancelToken:e.CancelTokenSource.token}));case 7:if((r=o.sent).data){for(n=0;n<r.data.cart.length;n++)t+=r.data.cart[n].quantity,a+=r.data.cart[n].quantity*r.data.cart[n].product.price;e._isMounted&&e.setState({cart_products:r.data.cart,tot_qty:t,tot_price:a})}else console.log("empty cart");o.next=23;break;case 11:if(o.prev=11,o.t0=o.catch(4),x.a.isCancel(o.t0)&&console.log("Error",o.t0.message),!o.t0.response){o.next=18;break}console.log(o.t0.response.data),o.next=23;break;case 18:if(!o.t0.request){o.next=22;break}console.log(o.t0.request.data),o.next=23;break;case 22:throw o.t0;case 23:return o.prev=23,e.CancelTokenSource=null,o.finish(23);case 26:case"end":return o.stop()}}),null,null,[[4,11,23,26]])},e.state={tot_qty:0,tot_price:0,cart_products:[]},e._isMounted=!1,e.getCart=e.getCart.bind(Object(E.a)(e)),e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return this.state.cart_products?(e=this.state.cart_products.map((function(e){return r.a.createElement(w,{key:e._id,_id:e._id,order:e.product,qty:e.quantity})})),r.a.createElement("div",null,r.a.createElement("h2",{className:"text-center"}," Shopping Cart "),r.a.createElement(O.a,{className:"fixed"},r.a.createElement(T.a,null,r.a.createElement(k.a,null,r.a.createElement(N,null,"        "),r.a.createElement(N,null,"  Product   "),r.a.createElement(N,null," Quantity  "),r.a.createElement(N,null," PriceUnit   "),r.a.createElement(N,null,"        "))),r.a.createElement(S.a,null,e)))):r.a.createElement("div",null," ",r.a.createElement("h1",null," Your cart is empty ! "),r.a.createElement(v.a,{variant:"dark",href:"/"}," Shop Now "));var e}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChangeEmail=a.handleChangeEmail.bind(Object(E.a)(a)),a.handleChangePassword=a.handleChangePassword.bind(Object(E.a)(a)),a.handleChangeEmail=a.handleChangeEmail.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a.state={email:"",password:""},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};console.log(t),x.a.post("/user/login",t).then((function(e){return console.log(e.data)}))}},{key:"handleChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",null,r.a.createElement("label",null,"Email address"),r.a.createElement("input",{type:"email",placeholder:"Enter email",onChange:this.handleChangeEmail})),r.a.createElement("div",null,r.a.createElement("label",null,"Password"),"c",r.a.createElement("input",{type:"password",placeholder:"Password",onChange:this.handleChangePassword})),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Submit"})))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChangeEmail=a.handleChangeEmail.bind(Object(E.a)(a)),a.handleChangePassword=a.handleChangePassword.bind(Object(E.a)(a)),a.handleChangeEmail=a.handleChangeEmail.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a.state={email:"",password:""},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};console.log(t),x.a.post("/user/signup",t).then((function(e){return console.log(e.data)}))}},{key:"handleChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",null,r.a.createElement("label",null,"Email address"),r.a.createElement("input",{type:"email",placeholder:"Enter email",onChange:this.handleChangeEmail})),r.a.createElement("div",null,r.a.createElement("label",null,"Password"),"c",r.a.createElement("input",{type:"password",placeholder:"Password",onChange:this.handleChangePassword})),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Submit"})))}}]),t}(n.Component),I=a(57),A=a(151),D=a(77),U=a.n(D),W=function(){var e=Object(n.useState)(0),t=Object(I.a)(e,2),a=t[0],o=t[1];return r.a.createElement("div",{className:"container"},r.a.createElement(A.a,{activeIndex:a,onSelect:function(e,t){o(e)}},r.a.createElement(A.a.Item,null,r.a.createElement("img",{className:"d-block w-100",height:"400",src:U.a,alt:"First slide"}),r.a.createElement(A.a.Caption,null,r.a.createElement("h3",null," Croissant Day !"),r.a.createElement("p",null," Enjoy your coffee with one free delicious croissant ")))))},Q=a(79),B=a(80);function F(){var e=Object(Q.a)(["\n\n .card-footer{\n   background: transparent;\n   border-top: transparent;\n   transition:all 0.7s linear;\n }\n  \n .img-container{\n  overflow: hidden;\n }\n \n\n .cart-btn{\n   bottom:0;right:0;\n  //  padding:0.2rem 0.4rem;\n   border:none;\n }\n \n .read-btn{\n  bottom:0;left:0;\n  // padding:0.2rem 0.4rem;\n  background: none;\n  color:blue;\n  border:none;\n}\n.popup {\n  width: 100%;\n  height: 100%;\n  top: 20;\n  left: 20;\n  right: 0;\n  bottom: 0;\n  margin: auto;\n}\n\n.text{\n  align:left;\n  color: black;\n  font-family: verdana;\n  font-size: 80%;\n}\n "]);return F=function(){return e},e}var R=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"popup"},r.a.createElement("div",null,r.a.createElement("h1",{className:"text"},this.props.text),r.a.createElement("button",{onClick:this.props.closePopup}," close ")))}}]),t}(r.a.Component),J=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).AddToCart=function(e){var t,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a.CancelTokenSource=x.a.CancelToken.source,r.prev=1,t={_id:e._id,title:e.title,imagePath:e.imagePath,price:e.price,description:e.description},r.next=5,f.a.awrap(x.a.post("http://localhost:3000/cart/",t,{cancelToken:a.CancelTokenSource.token}));case 5:(n=r.sent).data?console.log(n.data.message):console.log("error connecting to the server! response is empty"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),x.a.isCancel(r.t0)?console.log("Error",r.t0.message):r.t0.response?console.log(r.t0.response.data):r.t0.request?console.log(r.t0.request.data):console.log("Error",r.t0.message);case 12:return r.prev=12,a.CancelTokenSource=null,r.finish(12);case 15:case"end":return r.stop()}}),null,null,[[1,9,12,15]])},a.InCart=function(e){var t,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a.CancelTokenSource=x.a.CancelToken.source,r.prev=1,r.next=4,f.a.awrap(x.a.get("http://localhost:3000/cart",{cancelToken:a.CancelTokenSource.token}));case 4:if(!(t=r.sent).data){r.next=16;break}n=0;case 7:if(!(n<t.data.cart.length)){r.next=13;break}if(t.data.cart[n].product._id!==e){r.next=10;break}return r.abrupt("return",!0);case 10:n++,r.next=7;break;case 13:return r.abrupt("return",!1);case 16:console.log("error connecting to the server! response is empty");case 17:r.next=22;break;case 19:r.prev=19,r.t0=r.catch(1),x.a.isCancel(r.t0)?console.log("Error",r.t0.message):r.t0.response?console.log(r.t0.response.data):r.t0.request?console.log(r.t0.request.data):console.log("Error",r.t0.message);case 22:return r.prev=22,a.CancelTokenSource=null,r.finish(22);case 25:case"end":return r.stop()}}),null,null,[[1,19,22,25]])},a._isMounted=!1,a.state={showPopup:!1},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"togglePopup",value:function(){this.setState({showPopup:!this.state.showPopup})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement(z,{className:"col-9 mx-auto col-md-6 col-lg-3 my-3"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"img-container p-2"},r.a.createElement("img",{className:"card-img-top",src:this.props.product.imagePath,alt:"productImage"})),r.a.createElement("div",{className:"container",align:"bottom"},r.a.createElement("button",{className:"read-btn",align:"left",onClick:this.togglePopup.bind(this)},"Read more... "),this.state.showPopup?r.a.createElement(R,{text:this.props.product.description,closePopup:this.togglePopup.bind(this)}):null,r.a.createElement("button",{className:"cart-btn"},r.a.createElement("i",{className:"fas fa-cart-plus",align:"right",onClick:function(){e.AddToCart(e.props.product)}}))),r.a.createElement("div",{className:"card-footer d-flex justify-content-between"},r.a.createElement("p",{className:"align-self-center mb-0"},this.props.product.title),r.a.createElement("h5",{className:"text-blue font-italic mb-0"},this.props.product.price,r.a.createElement("span",{className:"mr-1"}," DT ")))))}}]),t}(n.Component),z=B.a.div(F()),L=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this.props.products;return console.log(t),t?e=t.map((function(e){return r.a.createElement(J,{key:e.id,product:e})})):console.log("cannot find any products to display! empty props"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},e))}}]),t}(n.Component),Y=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).CancelToken=x.a.CancelToken,e.source=e.CancelToken.source(),e.abortController=new AbortController,e.getProducts=function(){var t;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.CancelTokenSource=x.a.CancelToken.source,a.prev=1,a.next=4,f.a.awrap(x.a.get("http://localhost:3000/products",{cancelToken:e.CancelTokenSource.token}));case 4:(t=a.sent).data&&e._isMounted&&e.setState({products:t.data.products}),a.next=20;break;case 8:if(a.prev=8,a.t0=a.catch(1),x.a.isCancel(a.t0)&&console.log("Error",a.t0.message),!a.t0.response){a.next=15;break}console.log(a.t0.response.data),a.next=20;break;case 15:if(!a.t0.request){a.next=19;break}console.log(a.t0.request.data),a.next=20;break;case 19:throw a.t0;case 20:return a.prev=20,e.CancelTokenSource=null,a.finish(20);case 23:case"end":return a.stop()}}),null,null,[[1,8,20,23]])},e._isMounted=!1,e.state={products:[]},e.getProducts=e.getProducts.bind(Object(E.a)(e)),e}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this._isMounted&&this.getProducts()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return console.log(this.state.products),r.a.createElement("div",null,r.a.createElement(W,null),r.a.createElement(L,{products:this.state.products}))}}]),t}(n.Component),$=a(152),G=a(149),H=a(148),K=a(150),V=a(90),X=a(84),Z=a.n(X),ee=a(45),te=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ee.a,{bg:"dark",variant:"dark",expand:"lg"},r.a.createElement("img",{alt:"logo",src:Z.a,width:"40",height:"40",className:"d-inline-block align-top"})," "," ",r.a.createElement(ee.a.Brand,{href:"/"},"Coffee Shop"),r.a.createElement(ee.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(ee.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement($.a,{className:"mr-auto"},r.a.createElement($.a.Item,null," ",r.a.createElement(m.b,{to:"/about"}," About ")," "),r.a.createElement($.a.Item,null," ",r.a.createElement(m.b,{to:"/contact"},"Contact ")," "),r.a.createElement($.a.Item,null,"User "),r.a.createElement(G.a,{title:"",id:"basic-nav-dropdown"},r.a.createElement(G.a.Item,null," ",r.a.createElement(m.b,{to:"/register"}," Register ")," "),r.a.createElement(G.a.Item,null,r.a.createElement(m.b,{to:"/login"}," Login ")))),r.a.createElement($.a.Item,null,r.a.createElement(m.b,{to:"/cart"}," ",r.a.createElement("i",{className:"fas fa-shopping-cart"}),r.a.createElement(H.a,{pill:!0,variant:"danger",className:"badge"}))),r.a.createElement(K.a,{inline:!0},r.a.createElement(V.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),r.a.createElement(v.a,{variant:"outline-info"},"Search")))))}}]),t}(n.Component),ae=a(20),ne=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=Object(ae.a)();return r.a.createElement("div",null,r.a.createElement(m.a,{history:e},r.a.createElement(te,null),r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/",exact:!0,component:Y}),r.a.createElement(d.a,{path:"/about",component:h}),r.a.createElement(d.a,{path:"/contact",component:b}),r.a.createElement(d.a,{path:"/cart",component:P}),r.a.createElement(d.a,{path:"/login",component:q}),r.a.createElement(d.a,{path:"/register",component:M}))))}}]),t}(n.Component);a(124),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},77:function(e,t,a){e.exports=a.p+"static/media/special.06ea83c3.jpg"},84:function(e,t,a){e.exports=a.p+"static/media/logo.d3007d28.png"},94:function(e,t,a){e.exports=a(125)},99:function(e,t,a){}},[[94,1,2]]]);
//# sourceMappingURL=main.49f800cb.chunk.js.map