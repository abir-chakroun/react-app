(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{119:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(46),o=a.n(c),l=(a(93),a(11)),s=a(8),i=a(12),u=a(13),m=a(14),p=(a(61),a(34)),d=a(32),h=function(){return r.a.createElement("div",null,r.a.createElement("h1",null," About component "))},b=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null," Contact component "))},g=a(16),E=a.n(g),v=a(10),f=a(73),k=a(137),C=a(138),y=a(147),j=a(7),O=a.n(j),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).removeFromCart=function(e){var t;return E.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.CancelTokenSource=O.a.CancelToken.source,n.prev=1,n.next=4,E.a.awrap(O.a.delete("/cart/"+e,{cancelToken:a.CancelTokenSource.token}));case 4:(t=n.sent).data?console.log(t.data.message):console.log("cannot delete product from cart"),n.next=20;break;case 8:if(n.prev=8,n.t0=n.catch(1),O.a.isCancel(n.t0)&&console.log("Error",n.t0.message),!n.t0.response){n.next=15;break}console.log(n.t0.response),n.next=20;break;case 15:if(!n.t0.request){n.next=19;break}console.log(n.t0.request),n.next=20;break;case 19:throw n.t0;case 20:return n.prev=20,a.CancelTokenSource=null,n.finish(20);case 23:case"end":return n.stop()}}),null,null,[[1,8,20,23]])},a.MinusQuantity=function(e){var t,n;return E.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t={value:-1},a.CancelTokenSource=O.a.CancelToken.source,r.prev=2,0!==a.state.qty){r.next=7;break}return r.abrupt("return",null);case 7:return r.next=9,E.a.awrap(O.a.put("/cart/"+e,t,{cancelToken:a.CancelTokenSource.token}));case 9:r.sent.data&&(n=a.state.qty-1,a._isMounted&&a.setState({qty:n}));case 11:r.next=25;break;case 13:if(r.prev=13,r.t0=r.catch(2),O.a.isCancel(r.t0)&&console.log("Error",r.t0.message),!r.t0.response){r.next=20;break}console.log(r.t0.response.data),r.next=25;break;case 20:if(!r.t0.request){r.next=24;break}console.log(r.t0.request.data),r.next=25;break;case 24:throw r.t0;case 25:return r.prev=25,a.CancelTokenSource=null,r.finish(25);case 28:case"end":return r.stop()}}),null,null,[[2,13,25,28]])},a.AddQuantity=function(e){var t,n;return E.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.CancelTokenSource=O.a.CancelToken.source,t={value:1},r.prev=2,10!==a.state.qty){r.next=7;break}return r.abrupt("return",null);case 7:return r.next=9,E.a.awrap(O.a.put("/cart/"+e,t,{cancelToken:a.CancelTokenSource.token}));case 9:r.sent.data&&(n=a.state.qty+1,a._isMounted&&a.setState({qty:n}));case 11:r.next=25;break;case 13:if(r.prev=13,r.t0=r.catch(2),O.a.isCancel(r.t0)&&console.log("Error",r.t0.message),!r.t0.response){r.next=20;break}console.log(r.t0.response.data),r.next=25;break;case 20:if(!r.t0.request){r.next=24;break}console.log(r.t0.request.data),r.next=25;break;case 24:throw r.t0;case 25:return r.prev=25,a.CancelTokenSource=null,r.finish(25);case 28:case"end":return r.stop()}}),null,null,[[2,13,25,28]])},a.state={qty:0,total_price:0},a._isMounted=!1,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;if(console.log(this.props),console.log(this.state),this.props.order)return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(C.a,null,r.a.createElement(y.a,{style:{height:"100px",width:"100px"},src:this.props.order.imagePath})),r.a.createElement(C.a,{style:{width:"150px"}},r.a.createElement("h6",{className:"title text-truncate"},this.props.order.title," ")),r.a.createElement(C.a,{style:{width:"100px"}},r.a.createElement("div",{class:"btn-group btn-group-justified",role:"group","aria-label":"..."},r.a.createElement("div",{class:"btn-group",role:"group"},r.a.createElement("button",{type:"button",class:"btn btn-default btn-danger",onClick:function(){return e.MinusQuantity(e.props._id)}},"-")),r.a.createElement("div",{class:"btn-group",role:"group"},r.a.createElement("button",{type:"button",class:"btn btn-default"}," ",this.props.qty," ")),r.a.createElement("div",{class:"btn-group",role:"group"},r.a.createElement("button",{type:"button",class:"btn btn-default btn-success",onClick:function(){return e.AddQuantity(e.props._id)}},"+")))),r.a.createElement(C.a,null," ",r.a.createElement("var",{className:"price"},this.props.order.price," ")," "),r.a.createElement(C.a,null," ",r.a.createElement(f.a,{className:"btn btn-danger",onClick:function(){return e.removeFromCart(e.props._id)}}," Remove ")," ")));console.log("empty props from Cart component")}}]),t}(n.Component),x=a(139),S=a(141),T=a(140),_=a(19),q=Object(_.a)((function(e){return{root:{width:"25%"}}}))(C.a),N=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).getCart=function(){var t,a,n,r;return E.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=0,a=0,n=0,e.CancelTokenSource=O.a.CancelToken.source,c.prev=4,c.next=7,E.a.awrap(O.a.get("/cart",{cancelToken:e.CancelTokenSource.token}));case 7:if((r=c.sent).data){for(console.log(r.data),n=0;n<r.data.cart.length;n++)console.log(r.data.cart[n]),t+=r.data.cart[n].quantity,a+=r.data.cart[n].quantity*r.data.cart[n].product.price;e._isMounted&&e.setState({cart_products:r.data.cart,tot_qty:t,tot_price:a})}else console.log("empty cart");c.next=23;break;case 11:if(c.prev=11,c.t0=c.catch(4),O.a.isCancel(c.t0)&&console.log("Error",c.t0.message),!c.t0.response){c.next=18;break}console.log(c.t0.response.data),c.next=23;break;case 18:if(!c.t0.request){c.next=22;break}console.log(c.t0.request.data),c.next=23;break;case 22:throw c.t0;case 23:return c.prev=23,e.CancelTokenSource=null,c.finish(23);case 26:case"end":return c.stop()}}),null,null,[[4,11,23,26]])},e.state={tot_qty:0,tot_price:0,cart_products:[]},e._isMounted=!1,e.getCart=e.getCart.bind(Object(v.a)(e)),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this._isMounted&&this.getCart()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidUpdate",value:function(){this._isMounted=!0,this._isMounted&&this.getCart()}},{key:"render",value:function(){return this.state.cart_products?(console.log(this.state.cart_products),e=this.state.cart_products.map((function(e){return r.a.createElement(w,{key:e._id,_id:e._id,order:e.product,qty:e.quantity})})),r.a.createElement("div",null,r.a.createElement("h2",{className:"text-center"}," Shopping Cart "),r.a.createElement(x.a,{className:"fixed"},r.a.createElement(T.a,null,r.a.createElement(k.a,null,r.a.createElement(q,null,"        "),r.a.createElement(q,null,"Product "),r.a.createElement(q,null,"Quantity"),r.a.createElement(q,null,"PriceUnit   "),r.a.createElement(q,null,"        "))),r.a.createElement(S.a,null,e)))):r.a.createElement("div",null," ",r.a.createElement("h1",null," Your cart is empty ! "),r.a.createElement(f.a,{variant:"dark",href:"/"}," Shop Now "));var e}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChangeEmail=a.handleChangeEmail.bind(Object(v.a)(a)),a.handleChangePassword=a.handleChangePassword.bind(Object(v.a)(a)),a.handleChangeEmail=a.handleChangeEmail.bind(Object(v.a)(a)),a.onSubmit=a.onSubmit.bind(Object(v.a)(a)),a.state={email:"",password:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};console.log(t),O.a.post("/user/login",t).then((function(e){return console.log(e.data)}))}},{key:"handleChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",null,r.a.createElement("label",null,"Email address"),r.a.createElement("input",{type:"email",placeholder:"Enter email",onChange:this.handleChangeEmail})),r.a.createElement("div",null,r.a.createElement("label",null,"Password"),"c",r.a.createElement("input",{type:"password",placeholder:"Password",onChange:this.handleChangePassword})),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Submit"})))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChangeEmail=a.handleChangeEmail.bind(Object(v.a)(a)),a.handleChangePassword=a.handleChangePassword.bind(Object(v.a)(a)),a.handleChangeEmail=a.handleChangeEmail.bind(Object(v.a)(a)),a.onSubmit=a.onSubmit.bind(Object(v.a)(a)),a.state={email:"",password:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault();var t={email:this.state.email,password:this.state.password};console.log(t),O.a.post("/user/signup",t).then((function(e){return console.log(e.data)}))}},{key:"handleChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",null,r.a.createElement("label",null,"Email address"),r.a.createElement("input",{type:"email",placeholder:"Enter email",onChange:this.handleChangeEmail})),r.a.createElement("div",null,r.a.createElement("label",null,"Password"),"c",r.a.createElement("input",{type:"password",placeholder:"Password",onChange:this.handleChangePassword})),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Submit"})))}}]),t}(n.Component),I=a(55),A=a(145),D=a(75),U=a.n(D),W=function(){var e=Object(n.useState)(0),t=Object(I.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"container"},r.a.createElement(A.a,{activeIndex:a,onSelect:function(e,t){c(e)}},r.a.createElement(A.a.Item,null,r.a.createElement("img",{className:"d-block w-100",height:"400",src:U.a,alt:"First slide"}),r.a.createElement(A.a.Caption,null,r.a.createElement("h3",null," Croissant Day !"),r.a.createElement("p",null," Enjoy your coffee with one free delicious croissant ")))))},Q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).AddToCart=function(e){var t,n;return E.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a.CancelTokenSource=O.a.CancelToken.source,r.prev=1,t={_id:e._id,title:e.title,imagePath:e.imagePath,price:e.price,description:e.description},r.next=5,E.a.awrap(O.a.post("/cart/",t,{cancelToken:a.CancelTokenSource.token}));case 5:(n=r.sent).data?console.log(n.data.message):console.log("error connecting to the server! response is empty"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),O.a.isCancel(r.t0)?console.log("Error",r.t0.message):r.t0.response?console.log(r.t0.response.data):r.t0.request?console.log(r.t0.request.data):console.log("Error",r.t0.message);case 12:return r.prev=12,a.CancelTokenSource=null,r.finish(12);case 15:case"end":return r.stop()}}),null,null,[[1,9,12,15]])},a._isMounted=!1,a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement("div",{className:"col-lg-4 d-flex align-items-stretch"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"embed-responsive embed-responsive-16by9"},r.a.createElement("img",{className:"card-img-top embed-responsive-item",src:this.props.product.imagePath,alt:"productImage"})),r.a.createElement("div",{className:"caption"},r.a.createElement("h3",null,this.props.product.title),r.a.createElement("p",{className:"description"},this.props.product.description),r.a.createElement("div",{className:"card-img-bottom"},r.a.createElement("div",{className:"price float-left"},r.a.createElement("strong",null," ",this.props.product.price," DT ")," "),r.a.createElement(f.a,{onClick:function(){e.AddToCart(e.props.product)},className:"btn btn-success float-right",role:"button"},"Add To Cart")))))}}]),t}(n.Component),B=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this.props.products;return console.log(t),t?e=t.map((function(e){return r.a.createElement(Q,{key:e.id,product:e})})):console.log("cannot find any products to display! empty props"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},e))}}]),t}(n.Component),F=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).CancelToken=O.a.CancelToken,e.source=e.CancelToken.source(),e.abortController=new AbortController,e.getProducts=function(){var t;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.CancelTokenSource=O.a.CancelToken.source,a.prev=1,a.next=4,E.a.awrap(O.a.get("/products",{cancelToken:e.CancelTokenSource.token}));case 4:(t=a.sent).data&&e._isMounted&&e.setState({products:t.data.products}),a.next=20;break;case 8:if(a.prev=8,a.t0=a.catch(1),O.a.isCancel(a.t0)&&console.log("Error",a.t0.message),!a.t0.response){a.next=15;break}console.log(a.t0.response.data),a.next=20;break;case 15:if(!a.t0.request){a.next=19;break}console.log(a.t0.request.data),a.next=20;break;case 19:throw a.t0;case 20:return a.prev=20,e.CancelTokenSource=null,a.finish(20);case 23:case"end":return a.stop()}}),null,null,[[1,8,20,23]])},e._isMounted=!1,e.state={products:[]},e.getProducts=e.getProducts.bind(Object(v.a)(e)),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this._isMounted&&this.getProducts()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return console.log(this.state.products),r.a.createElement("div",null,r.a.createElement(W,null),r.a.createElement(B,{products:this.state.products}))}}]),t}(n.Component),J=a(146),R=a(143),L=a(142),Y=a(144),$=a(84),z=a(77),G=a.n(z),H=a(44),K=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(H.a,{bg:"dark",variant:"dark",expand:"lg"},r.a.createElement("img",{alt:"logo",src:G.a,width:"40",height:"40",className:"d-inline-block align-top"})," "," ",r.a.createElement(H.a.Brand,{href:"/"},"Coffee Shop"),r.a.createElement(H.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(H.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(J.a,{className:"mr-auto"},r.a.createElement(J.a.Item,null," ",r.a.createElement(p.b,{to:"/about"}," About ")," "),r.a.createElement(J.a.Item,null," ",r.a.createElement(p.b,{to:"/contact"},"Contact ")," "),r.a.createElement(J.a.Item,null,"User "),r.a.createElement(R.a,{title:"",id:"basic-nav-dropdown"},r.a.createElement(R.a.Item,null," ",r.a.createElement(p.b,{to:"/register"}," Register ")," "),r.a.createElement(R.a.Item,null,r.a.createElement(p.b,{to:"/login"}," Login ")))),r.a.createElement(J.a.Item,null,r.a.createElement(p.b,{to:"/cart"}," ",r.a.createElement("i",{class:"fas fa-shopping-cart"}),r.a.createElement(L.a,{pill:!0,variant:"danger",className:"badge"}))),r.a.createElement(Y.a,{inline:!0},r.a.createElement($.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),r.a.createElement(f.a,{variant:"outline-info"},"Search")))))}}]),t}(n.Component),V=a(20),X=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=Object(V.a)();return r.a.createElement("div",null,r.a.createElement(p.a,{history:e},r.a.createElement(K,null),r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/",exact:!0,component:F}),r.a.createElement(d.a,{path:"/about",component:h}),r.a.createElement(d.a,{path:"/contact",component:b}),r.a.createElement(d.a,{path:"/cart",component:N}),r.a.createElement(d.a,{path:"/login",component:M}),r.a.createElement(d.a,{path:"/register",component:P}))))}}]),t}(n.Component);a(118),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},61:function(e,t,a){},75:function(e,t,a){e.exports=a.p+"static/media/special.06ea83c3.jpg"},77:function(e,t,a){e.exports=a.p+"static/media/logo.d3007d28.png"},88:function(e,t,a){e.exports=a(119)},93:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.21a73c88.chunk.js.map